import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs';
import { DataTable } from '../../components/DataTable';
import { getUsers } from '../data';
import { addIcons } from '../../components/icons.tsx';
import { Icon } from '@equinor/eds-core-react';

<Meta title="Library/DataTable" component={DataTable} />

# Datatable with column selector

This is an example of a table with column selector. In this example the cache is activated, so that the selections are persistent between sessions.
It uses the `window.location.href` as `cacheKey` in Session Storage.

<Canvas>
    <Story name="Columnselector example">
        {() => {
            addIcons();
            const { Column, ColumnSelector, StickyHeader } = DataTable;
            return (
                <DataTable data={getUsers(10)}>
                    <Column id="id">Uuid</Column>
                    <Column id="firstname">First name</Column>
                    <Column id="lastname">Last name</Column>
                    <Column id="email">Email</Column>
                    <Column id="title" optional>
                        Title
                    </Column>
                    <Column id="country" optional>
                        Country
                    </Column>
                    <ColumnSelector
                        title="Column settings"
                        icon={<Icon name="settings" title="Manage columns" size={24} />}
                        cacheKey={window.location.href}
                    />
                </DataTable>
            );
        }}
    </Story>
</Canvas>
